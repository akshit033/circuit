# circuit

## Circom Circuit Implementation and Verification

This project demonstrates the implementation and verification of a zero-knowledge proof using Circom, a circuit compiler, and deploying a Solidity verifier on Sepolia or Mumbai Testnet.

## Overview

This repository contains the necessary files and scripts to implement a Circom circuit, compile it, generate a proof with specific inputs, and deploy a Solidity verifier contract to a testnet. The goal is to call the `verifyProof()` method on the deployed verifier contract and assert that the output is true.

## Features

- **Circuit Implementation**: A correctly implemented `circuit.circom` file.
- **Compilation**: Scripts to compile the circuit and generate intermediate files.
- **Proof Generation**: Generate a proof using inputs `A=0` and `B=1`.
- **Solidity Verifier Deployment**: Deploy the verifier contract to Sepolia or Mumbai Testnet.
- **Proof Verification**: Call `verifyProof()` method on the verifier contract and assert the output is true.

## Getting Started

### Prerequisites

- Node.js
- npm
- Hardhat
- Circom and SnarkJS
- A Sepolia or Mumbai Testnet account with funds for deployment

### Installation

1. **Clone the Repository**:
   ```bash
   git clone https://github.com/your-username/your-repository.git
   cd your-repository
   ```

2. **Install Dependencies**:
   ```bash
   npm install
   ```

3. **Install Circom**:
   Follow the instructions on the [Circom GitHub page](https://github.com/iden3/circom) to install Circom.

### Circuit Implementation

1. **Write the Circuit**:
   Create and implement the `circuit.circom` file in the `circuits` directory. Ensure your circuit correctly defines the logic for your proof.

### Compilation and Proof Generation

1. **Compile the Circuit**:
   ```bash
   circom circuits/circuit.circom --r1cs --wasm --sym --c
   ```

2. **Generate Witness**:
   ```bash
   node circuits/circuit_js/generate_witness.js circuits/circuit_js/circuit.wasm input.json witness.wtns
   ```

3. **Setup and Generate Proof**:
   ```bash
   snarkjs groth16 setup circuits/circuit.r1cs ptau_file.ptau circuit_final.zkey
   snarkjs groth16 prove circuit_final.zkey witness.wtns proof.json public.json
   ```

4. **Verify Proof**:
   ```bash
   snarkjs groth16 verify verification_key.json public.json proof.json
   ```

### Deploying the Verifier Contract

1. **Compile the Verifier Contract**:
   Update the `contracts/Verifier.sol` with the verifier generated by snarkjs.

2. **Deploy to Testnet**:
   ```bash
   npx hardhat run scripts/deploy.js --network sepolia
   ```
   or
   ```bash
   npx hardhat run scripts/deploy.js --network mumbai
   ```

### Proof Verification

1. **Call `verifyProof()`**:
   Update and run a script to call `verifyProof()` on the deployed contract and assert that the output is true.

## Scripts

- **compile.js**: Script to compile the Circom circuit.
- **generateProof.js**: Script to generate the proof.
- **deploy.js**: Script to deploy the verifier contract to a testnet.
- **verifyProof.js**: Script to call the `verifyProof()` method and assert the output.

## Contributing

Contributions are welcome! Fork this repository, make your changes, and submit a pull request. For major changes, please open an issue first to discuss potential updates.

## License

This project is licensed under the MIT License - see the LICENSE file for details.

---

Feel free to adjust the template based on your specific project details and requirements!
